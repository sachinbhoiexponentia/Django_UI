<!DOCTYPE html>
<html>
{% load static %}

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css">
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
  <script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.5.2/js/bootstrap.min.js"></script>
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.2.1/css/all.min.css">
  <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css" rel="stylesheet"
    integrity="sha384-EVSTQN3/azprG1Anm3QDgpJLIm9Nao0Yz1ztcQTwFspd3yD65VohhpuuCOmLASjC" crossorigin="anonymous">
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link
    href="https://fonts.googleapis.com/css2?family=IBM+Plex+Sans:wght@400;600&family=Open+Sans:wght@400;500;600&display=swap"
    rel="stylesheet">
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/js/bootstrap.bundle.min.js"
    integrity="sha384-MrcW6ZMFYlzcLA8Nl+NtUVF0sA7MsXsP1UyJoMp4YLEuNSfAP+JcXn/tWtIaxVXM"
    crossorigin="anonymous"></script>


<link rel="stylesheet" type="text/css" href="{% static 'toam_styles.css' %}">

<style>
  .popup{
    width: 400px;
    background: #fff;
    border-radius: 6px;
    position: absolute;
    top: 0;
    left: 50%;
    transform: translate(-50%, -50%) scale(0.1);
    text-align: center;
    padding: 24px;
    border: 1px solid #736CEB;
    box-shadow: 0 4px 12px 0 rgba(0, 0, 0, 0.2);
    font-size: 18px;
    display: none;
    transition: transform 0.4s, top 0.4s;
}
.showPopup{
  display: block;
  top: 50%;
  transform: translate(-50%, -50%) scale(1);
}
.popup p{
  margin-bottom: 24px;
}
.btn{
  padding: .5rem 1.2rem;
}
.update{
  background-color: #736CEB !important;
}
.update:hover{
  box-shadow: 0 4px 12px 0 rgba(0, 0, 0, 0.2);
}
</style>

</head>


<body>



  <header>
    <div class="left-buttons">
        <button></button>
        <h1 style="margin-left: 56px;">Task Optimization & Assignment Module</h1>
    </div>

    <div class="right-buttons">
      <button class="button-images_noti" style="margin-right: -30px;"><img src="{% static 'Vector2.png' %}"></button>
      
      <button class="button-images_admin" style=" margin-right: 5px; padding-right: 20px;"><img src="{% static 'Group 8.png' %}"></button>
      &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
      <a href="{% url 'logout' %}" class="btn btn-danger">Logout</a>
    </header>
  <div>
    <div class="sidebar">
      <a href="/product_cat_conf"><img src="{% static 'Ellipse 4.png' %}" alt="Product Category Icon"> Product Category</a>
      <a href="/"><img src="{% static 'Ellipse 4.png' %}" alt="Home Icon"> Threshold Logic</a>
      <a href="/closure_Config_view"><img src="{% static 'Ellipse 4.png' %}" alt="Services Icon"> Task Closure</a>
      <a href="/TNT_Module_View"><img src="{% static 'Ellipse 4.png' %}" alt="Clients Icon"> TNT Module</a>
      <a href="/TOAM_Module_View">
        <div class="d-flex">
          <div>
            <img src="{% static 'Ellipse 4.png' %}" alt="Contact Icon">
          </div>

          <div>Task Optimization & Assignment Module</div>
        </div>
      </a>
      <a href="./deploy.html"><img src="{% static 'Ellipse 4.png' %}" alt="Con Icon"> Deploy Config</a>
    </div>
    <div class="content">
      <!-- <div class="button-container">
        <button>Threshold Logic Configuration</button>
        <button>Trigger Threshold by Business</button>
        <button>Segment Threshold Output</button>
        <button>FLS Average Threshold Output</button>
    </div> -->
 


      <div class="button-container">
        <!-- <div class="tab"> -->
        <button class="tablinks" onclick="openCity(event, 'London')">Task Constraint Rules</button>
        <button class="tablinks" onclick="openCity(event, 'Paris')">Allocation Parameters</button>
        <button class="tablinks" onclick="openCity(event, 'Tokyo')">Microsegment Default Tasks</button>
        {% comment %} <button class="tablinks" onclick="openCity(event, 'india')">Default Task Inactive FLS</button> {% endcomment %}
      </div>

            {% if messages %}
      <ul class="messages">
        {% for message in messages %}
        <li{% if message.tags %} class="{{ message.tags }}" {% endif %}>{{ message }}</li>
          {% endfor %}
      </ul>
      {% endif %}

      <div class="button-container_">

        <div id="London" class="tabcontent">


          <div class="button1-container">
            <button class="button-with-image blueBorder ms-auto" id="formButton1" data-toggle="modal"
              data-target="#myModal1"><span><img src="{% static 'add.png' %}" class="me-1"></span>Add New</button>
              <button class="button-with-image1"><span><img src="{% static 'Download.png' %}" class="me-1"><a href="/download/Task_Constraint_Rules">Download</a></button>
            <button class="button-with-image2" onclick="uploadToS3('Task_Constraint_Rules')"><span><img src="{% static 'Upload.png' %}" class="me-1">Upload</button>
          </div>
          <div class="table-container">
            <table class="custom-table">
              <thead>
                <tr>

                  <!-- {% for header in optimization_rules_data_headers %}
                  <th>{{ header }}</th>
                  {% endfor %} -->

                  <th>Task Number</th>
                  <th>Constraint Description</th>
                  <th>Category Task Associaed With</th>
                  <th>Min Task Count FLS</th>
                  <th>Max Task Count FLS</th>
                  <th>Mutual Exclusion Crteria</th>
                  <th>Task Priority</th>
                
                  <th>Actions</th>
                </tr>
              </thead>
              <tbody>
                {% for row in optimization_rules_data_data %}
                <tr>
                  {% for value in row %}
                  <td>
                    {{value}}
                  </td>

                  {% endfor %}
                  <td>
                    <i class="fas fa-edit" id="editButton3" onclick="getSourceData_ORD({{row.0}})" data-toggle="modal"
                      data-target="#modal_optimization_rules_form_edit" style="color: black;"></i>
                    <i class="fas fa-trash-alt" id="deleteButton5" onclick="deleteConfirmation()"
                      data-toggle="modal" style="color: black;"></i>

                      <div class="popup" id="deletePopup">
                        <p>Do you want to delete?</p>
                        <button class="btn btn-outline-danger cancel me-4" onclick="closePopup()">Cancel</button>
                        <button class="btn btn-primary update" onclick="DeleteSourceData_ORD({{ row.0 }})">Yes, Delete</button>
                      </div>
                  </td>
                </tr>
                {% endfor %}
              </tbody>
            </table>
          </div>
          <div id="myModal1" class="modal fade" role="dialog">
            <div class="modal-dialog modal-lg">
              <!-- Modal content-->
              <div class="modal-content">
                <div class="modal-header">
                  <h1 class="modal-title">Add New</h1>
                  <button type="button" class="close" data-dismiss="modal">&times;</button>
                </div>
                <div class="modal-body">
                  <form id="optimization_rules_Form" method="post" enctype="multipart/form-data">
                    {% csrf_token %}
                    <input type="hidden" id="optimization_rules_Form" name="form_identifier" value="optimization_rules_Form" />
                  
                    <div class="form-row">
                      <div class="form-group_thre">
                        <label for="task_no" class="label1_">Task No.</label>
                        <input class="first1" name="task_no" id="task_no" type="text" placeholder="Task No." />
                      </div>
                    </div>
                    <div class="form-row">
                      <div class="form-group_thre">
                        <label for="constraint" class="label1_">Constraint</label>
                        <input class="first1" name="constraint" id="constraint" type="text" placeholder="Constraint" />
                      </div>
                    </div>
                    <div class="form-row">
                      <div class="form-group_thre">
                        <label for="category_task_allocated_with" class="label1_">Category Task Allocated With</label>
                        <input class="first1" name="category_task_allocated_with" id="category_task_allocated_with"
                          type="text" placeholder="Category Task Allocated With" />
                      </div>
                    </div>
                    <div class="form-row">
                      <div class="form-group_thre">
                        <label for="min_task_count_fls" class="label1_">Min Task Count FLS</label>
                        <input class="first1" name="min_task_count_fls" id="min_task_count_fls" type="text"
                          placeholder="Min Task Count FLS" />
                      </div>
                    </div>
                    <div class="form-row">
                      <div class="form-group_thre">
                        <label for="max_task_count_fls" class="label1_">Max Task Count FLS</label>
                        <input class="first1" name="max_task_count_fls" id="max_task_count_fls" type="text"
                          placeholder="Max Task Count FLS" />
                      </div>
                    </div>
                    <div class="form-row">
                      <div class="form-group_thre">
                        <label for="mutual_exclusion_criteria" class="label1_">Mutual Exclusion Criteria</label>
                        <input class="first1" name="mutual_exclusion_criteria" id="mutual_exclusion_criteria"
                          type="text" placeholder="Mutual Exclusion Criteria" />
                      </div>
                    </div>
                    <div class="form-row">
                      <div class="form-group_thre">
                        <label for="task_priority" class="label1_">Task Priority</label>
                        <input class="first1" name="task_priority" id="task_priority" type="text"
                          placeholder="Task Priority" />
                      </div>
                    </div>
                    <button type="button" id="validateButton_optimization_rule"
                      class="btn btn-info btn-lg submit_validate" data-toggle="modal" {% comment %}
                      data-target="#myModal5" {% endcomment %}>Validate</button>
                  </form>

                </div>

              </div>
            </div>
          </div>
          <div id="modal_optimization_rules_form_edit" class="modal fade" role="dialog">
            <div class="modal-dialog modal-lg">
              <!-- Modal content-->
              <div class="modal-content">
                <div class="modal-header">
                  <h1 class="modal-title">Edit</h1>
                  <button type="button" class="close" data-dismiss="modal">&times;</button>

                </div>
                <div class="modal-body">
                  <form id="optimization_rules_Form_edit" method="post" enctype="multipart/form-data">
                    {% csrf_token %}
                    <input type="hidden" id="optimization_rules_Form_edit" name="form_identifier"
                      value="optimization_rules_Form_edit" />
                    <div class="form-row">
                      <div class="form-group_thre">
                        <!-- <label for="task_no" class="label1_">Task No.</label> -->
                        <input class="first1" name="ord_task_no" id="ord_task_no" type="hidden"
                          placeholder="Task No." />
                      </div>
                    </div>
                    <div class="form-row">
                      <div class="form-group_thre">
                        <label for="constraint" class="label1_">Constraint</label>
                        <input class="first1" name="ord_constraint" id="ord_constraint" type="text"
                          placeholder="Constraint" />
                      </div>
                    </div>
                    <div class="form-row">
                      <div class="form-group_thre">
                        <label for="category_task_allocated_with" class="label1_">Category Task Allocated With</label>
                        <input class="first1" name="ord_category_task_allocated_with"
                          id="ord_category_task_allocated_with" type="text"
                          placeholder="Category Task Allocated With" />
                      </div>
                    </div>
                    <div class="form-row">
                      <div class="form-group_thre">
                        <label for="min_task_count_fls" class="label1_">Min Task Count FLS</label>
                        <input class="first1" name="ord_min_task_count_fls" id="ord_min_task_count_fls" type="text"
                          placeholder="Min Task Count FLS" />
                      </div>
                    </div>
                    <div class="form-row">
                      <div class="form-group_thre">
                        <label for="max_task_count_fls" class="label1_">Max Task Count FLS</label>
                        <input class="first1" name="ord_max_task_count_fls" id="ord_max_task_count_fls" type="text"
                          placeholder="Max Task Count FLS" />
                      </div>
                    </div>
                    <div class="form-row">
                      <div class="form-group_thre">
                        <label for="mutual_exclusion_criteria" class="label1_">Mutual Exclusion Criteria</label>
                        <input class="first1" name="ord_mutual_exclusion_criteria" id="ord_mutual_exclusion_criteria"
                          type="text" placeholder="Mutual Exclusion Criteria" />
                      </div>
                    </div>
                    <div class="form-row">
                      <div class="form-group_thre">
                        <label for="task_priority" class="label1_">Task Priority</label>
                        <input class="first1" name="ord_task_priority" id="ord_task_priority" type="text"
                          placeholder="Task Priority" />
                      </div>
                    </div>
                    <button type="submit" id="validateButton_threshold_logic_config"
                      class="btn btn-info btn-lg submit_validate" data-toggle="modal"
                      data-form-id="optimization_rules_Form">Submit</button>
                  </form>
                </div>
              </div>
              <div id="myModal1_edit" class="modal fade" role="dialog">
                <div class="modal-dialog modal-lg">
                  <!-- Modal content-->
                  <div class="modal-content">
                    <div class="modal-header">
                      <h1 class="modal-title">Edit</h1>
                      <button type="button" class="close" data-dismiss="modal">&times;</button>
                    </div>
                    <div class="modal-body">
                      {% comment %} for edit {% endcomment %}
                      <form id="form1">
                        {% csrf_token %}
                        <div class="form-row">
                          <div class="form-group_thre">
                            <label for="constraint" class="label1_">Constraint</label>
                            <input class="first1" name="constraint" id="constraint" type="text"
                              placeholder="Constraint" />
                          </div>
                        </div>
                        <div class="form-row">
                          <div class="form-group_thre">
                            <label for="category_task_allocated_with" class="label1_">Category Task Allocated
                              With</label>
                            <input class="first1" name="category_task_allocated_with" id="category_task_allocated_with"
                              type="text" placeholder="Category Task Allocated With" />
                          </div>
                        </div>
                        <div class="form-row">
                          <div class="form-group_thre">
                            <label for="min_task_count_fls" class="label1_">Min Task Count FLS</label>
                            <input class="first1" name="min_task_count_fls" id="min_task_count_fls" type="text"
                              placeholder="Min Task Count FLS" />
                          </div>
                        </div>
                        <div class="form-row">
                          <div class="form-group_thre">
                            <label for="max_task_count_fls" class="label1_">Max Task Count FLS</label>
                            <input class="first1" name="max_task_count_fls" id="max_task_count_fls" type="text"
                              placeholder="Max Task Count FLS" />
                          </div>
                        </div>
                        <div class="form-row">
                          <div class="form-group_thre">
                            <label for="mutual_exclusion_criteria" class="label1_">Mutual Exclusion Criteria</label>
                            <input class="first1" name="mutual_exclusion_criteria" id="mutual_exclusion_criteria"
                              type="text" placeholder="Mutual Exclusion Criteria" />
                          </div>
                        </div>
                        <div class="form-row">
                          <div class="form-group_thre">
                            <label for="task_priority" class="label1_">Task Priority</label>
                            <input class="first1" name="task_priority" id="task_priority" type="text"
                              placeholder="Task Priority" />
                          </div>
                        </div>
                      </form>
                    </div>
                  </div>
                </div>
              </div>

              <div id="myModal_delete" class="modal fade" role="dialog">
                <div class="modal-dialog modal-md">

                  <!-- Modal content-->
                  <div class="modal-content">
                    <div class="modal-header">
                      <h1 class="modal-title" style="font-size: 15px; color: black;">Delete</h1>
                      <button type="button" class="close" data-dismiss="modal"
                        style="border: 1px; height: 5px;">&times;</button>

                    </div>
                    <div class="modal-body">
                      <p style="color: black;">Are you sure want to delete trigger Id "1"?</p>
                      <button type="button" id="submit" style="background-color:#736CEB; color: white;">Delete</button>
                    </div>

                  </div>
                </div>
              </div>
            </div>
          </div>
          <div id="submit_optimization_rules" class="modal fade" role="dialog">
            <div class="modal-dialog modal-md">

              <!-- Modal content-->
              <div class="modal-content">
                <div class="modal-header">
                  <h1 class="modal-title" style="font-size: 15px; color: black;">Validate</h1>
                  <button type="button" class="close" data-dismiss="modal"
                    style="border: 1px; height: 5px;">&times;</button>

                </div>
                <div class="modal-body">
                  <p style="color: black;">Do you want to add new channel?</p>
                  <button type="button" id="submit_button_optimization_rules"
                    style="background-color:#736CEB; color: white;">Submit optimization</button>
                </div>

              </div>

            </div>
          </div>
</div>


</div>


















          <div id="Paris" class="tabcontent">
            <div class="button1-container">
              <button class="button-with-image blueBorder ms-auto" id="formButton2" data-toggle="modal"
                data-target="#myModal2"><span><img src="{% static 'add.png' %}" class="me-1"></span>Add New</button>
                <button class="button-with-image1"><span><img src="{% static 'Download.png' %}" class="me-1"><a href="/download/Allocation_Parameters">Download</a></button>
              <button class="button-with-image2" onclick="uploadToS3('Allocation_Parameters')"><span><img src="{% static 'Upload.png' %}" class="me-1">Upload</button>
            </div>
            <div class="table-container">
              <table class="custom-table">
                <thead>
                  <tr>
                    <!-- {% for header in allocation_parameters_data_headers %}
                    <th>{{ header }}</th>
                    {% endfor %} -->

                    <th>Task ID</th>
                    <th>Channel</th>
                    <th>Subchannel</th>
                    <th>Demo Segment</th>
                    <th>Value Segment</th>
                    <th>Segment ID</th>
                    <th>Due Days</th>
                    <th>Buffer Days</th>
                    <th>XX Value</th>
                    <th>XX Type</th>
                    <th>Price Point Reward</th>

                    <th>Actions</th>
                  </tr>
                </thead>
                <tbody>
                  {% for row in allocation_parameters_data_data %}
                  <tr>
                    {% for value in row %}
                    <td>
                      {{value}}
                    </td>

                    {% endfor %}
                    <td>
                      <i class="fas fa-edit" id="editButton3" onclick="getSourceData_AP({{row.0}})" data-toggle="modal"
                      data-target="#modal_allocation_parameters_form_edit" style="color: black;"></i>
                    <i class="fas fa-trash-alt" id="deleteButton5" onclick="deleteConfirmation2()"
                      data-toggle="modal" style="color: black;"></i>

                      <div class="popup" id="deletePopup2">
                        <p>Do you want to delete?</p>
                        <button class="btn btn-outline-danger cancel me-4" onclick="closePopup2()">Cancel</button>
                        <button class="btn btn-primary update" onclick="DeleteSourceData_AP({{ row.0 }})">Yes, Delete</button>
                      </div>
                    </td>
                  </tr>
                  {% endfor %}
                </tbody>
              </table>
            </div>
              <div id="myModal2" class="modal fade" role="dialog">
              <div class="modal-dialog modal-lg">
                <!-- Modal content-->
                <div class="modal-content">
                  <div class="modal-header">
                    <h1 class="modal-title">Add New</h1>
                    <button type="button" class="close" data-dismiss="modal">&times;</button>

                  </div>
                  <div class="modal-body">
                    <form id="allocation_parameters_Form" data-form-id="allocation_parameters_Form" method="post"
                      enctype="multipart/form-data">
                      {% csrf_token %}
                      <input type="hidden" id="allocation_parameters_Form" name="form_identifier"
                        value="allocation_parameters_Form" />


                      <div class="form-row">
                        <div class="form-group_clo">
                          <label for="task_id" class="label1">Task ID</label>
                          <input class="first" name="task_id" id="task_id" type="text" placeholder="Task ID" required />
                        </div>
                      </div>
                      <div class="form-row">
                        <div class="form-group_clo">
                          <label for="channel" class="label1">Channel</label>
                          <input class="first" name="channel" id="channel" type="text" placeholder="Channel" required />
                        </div>
                        <div class="form-group_clo">
                          <label for="subchannel" class="label">Subchannel</label>
                          <input class="last" name="subchannel" id="subchannel" type="text" placeholder="Subchannel"
                            required />
                        </div>
                      </div>

                      <div class="form-row">
                        <div class="form-group_clo">
                          <label for="demoseg" class="label1">DemoSeg</label>
                          <input class="first" name="demoseg" id="demoseg" type="number" placeholder="DemoSeg" />
                        </div>
                        <div class="form-group_clo">
                          <label for="valueseg" class="label">ValueSeg</label>
                          <input class="last" name="valueseg" id="valueseg" type="number" placeholder="ValueSeg" />
                        </div>
                      </div>

                      <div class="form-row">
                        <div class="form-group_clo">
                          <label for="segment_id" class="label1">Segment ID</label>
                          <input class="first" name="segment_id" id="segment_id" type="number"
                            placeholder="Segment ID" />
                        </div>
                        <div class="form-group_clo">
                          <label for="due_days" class="label">Due Days</label>
                          <input class="last" name="due_days" id="due_days" type="number" placeholder="Due Days" />
                        </div>
                      </div>

                      <div class="form-row">
                        <div class="form-group_clo">
                          <label for="buffer_days" class="label1">Buffer Days</label>
                          <input class="first" name="buffer_days" id="buffer_days" type="number"
                            placeholder="Buffer Days" />
                        </div>
                        <div class="form-group_clo">
                          <label for="xx_value" class="label">XX Value</label>
                          <input class="last" name="xx_value" id="xx_value" type="text" placeholder="XX Value" />
                        </div>
                      </div>

                      <div class="form-row">
                        <div class="form-group_clo">
                          <label for="xx_type" class="label1">XX Type</label>
                          <input class="first" name="xx_type" id="xx_type" type="text" placeholder="XX Type" />
                        </div>
                        <div class="form-group_clo">
                          <label for="price_point_reward" class="label">Price Point Reward</label>
                          <input class="last" name="price_point_reward" id="price_point_reward" type="number"
                            placeholder="Price Point Reward" />
                        </div>
                      </div>
                      <button type="button" id="validateButton_allocation_parameters"
                        class="btn btn-info btn-lg submit_validate" data-toggle="modal" {% comment %}
                        data-target="#myModal6" {% endcomment %}>Validate</button>

                    </form>

                  </div>

                </div>
              </div>
            </div>
            
            
            <div id="modal_allocation_parameters_form_edit" class="modal fade" role="dialog">
              <div class="modal-dialog modal-lg">
                <!-- Modal content-->
                <div class="modal-content">
                  <div class="modal-header">
                    <h1 class="modal-title">Edit</h1>
                    <button type="button" class="close" data-dismiss="modal">&times;</button>
  
                  </div>
                  <div class="modal-body">
                    <form id="allocation_parameters_Form_edit" method="post" enctype="multipart/form-data">
                      {% csrf_token %}
                      <input type="hidden" id="allocation_parameters_Form_edit" name="form_identifier"
                        value="allocation_parameters_Form_edit" />

                        <div class="form-row">
                          <div class="form-group_thre">
                            <!-- <label for="task_no" class="label1_">Task No.</label> -->
                            <input class="first1" name="AP_Task_id" id="AP_Task_id" type="hidden"
                              placeholder="Task_id" />
                          </div>
                        </div>
                        <div class="form-row">
                          <div class="form-group_thre">
                            <label for="constraint" class="label1_">Constraint</label>
                            <input class="first1" name="AP_Channel" id="AP_Channel" type="text"
                              placeholder="Channel" />
                          </div>
                        </div>
                        <div class="form-row">
                          <div class="form-group_thre">
                            <label for="category_task_allocated_with" class="label1_">Category Task Allocated With</label>
                            <input class="first1" name="AP_Subchannel" id="AP_Subchannel" type="text"
                              placeholder="Subchannel" />
                          </div>
                        </div>
                        <div class="form-row">
                          <div class="form-group_thre">
                            <label for="min_task_count_fls" class="label1_">Min Task Count FLS</label>
                            <input class="first1" name="AP_DemoSeg" id="AP_DemoSeg" type="text"
                              placeholder="DemoSeg" />
                          </div>
                        </div>
                        <div class="form-row">
                          <div class="form-group_thre">
                            <label for="max_task_count_fls" class="label1_">Max Task Count FLS</label>
                            <input class="first1" name="AP_ValueSeg" id="AP_ValueSeg" type="text"
                              placeholder="ValueSeg" />
                          </div>
                        </div>
                        <div class="form-row">
                          <div class="form-group_thre">
                            <label for="mutual_exclusion_criteria" class="label1_">Mutual Exclusion Criteria</label>
                            <input class="first1" name="AP_Segment_id" id="AP_Segment_id"
                              type="text" placeholder="Segment_id" />
                          </div>
                        </div>
                        <div class="form-row">
                          <div class="form-group_thre">
                            <label for="task_priority" class="label1_">Task Priority</label>
                            <input class="first1" name="AP_Due_Days" id="AP_Due_Days" type="text"
                              placeholder="Due_Days" />
                          </div>
                        </div>
                        <div class="form-row">
                          <div class="form-group_thre">
                            <label for="min_task_count_fls" class="label1_">Min Task Count FLS</label>
                            <input class="first1" name="AP_Buffer_Days" id="AP_Buffer_Days" type="text"
                              placeholder="Buffer_Days" />
                          </div>
                        </div>
                        <div class="form-row">
                          <div class="form-group_thre">
                            <label for="max_task_count_fls" class="label1_">Max Task Count FLS</label>
                            <input class="first1" name="AP_XX_Value" id="AP_XX_Value" type="text"
                              placeholder="XX_Value" />
                          </div>
                        </div>
                        <div class="form-row">
                          <div class="form-group_thre">
                            <label for="mutual_exclusion_criteria" class="label1_">Mutual Exclusion Criteria</label>
                            <input class="first1" name="AP_XX_Type" id="AP_XX_Type"
                              type="text" placeholder="XX_Type" />
                          </div>
                        </div>
                        <div class="form-row">
                          <div class="form-group_thre">
                            <label for="task_priority" class="label1_">Task Priority</label>
                            <input class="first1" name="AP_PricePoint_Reward" id="AP_PricePoint_Reward" type="text"
                              placeholder="PricePoint_Reward" />
                          </div>
                        </div>
                      <button type="submit" id="validateButton_allocation_parameters"
                        class="btn btn-info btn-lg submit_validate" data-toggle="modal"
                        data-form-id="allocation_parameters_Form_edit">Submit</button>
                    </form>
                  </div>
                </div>
              </div>
            </div>
           
            <div id="submit_allocation_parameters" class="modal fade" role="dialog">
              <div class="modal-dialog modal-md">
  
                <!-- Modal content-->
                <div class="modal-content">
                  <div class="modal-header">
                    <h1 class="modal-title" style="font-size: 15px; color: black;">Validate</h1>
                    <button type="button" class="close" data-dismiss="modal"
                      style="border: 1px; height: 5px;">&times;</button>
  
                  </div>
                  <div class="modal-body">
                    <p style="color: black;">Do you want to add new channel?</p>
                    <button type="button" id="submit_button_allocation_parameters"
                      style="background-color:#736CEB; color: white;">Submit Allocation</button>
                  </div>
  
                </div>
  
              </div>
            </div>

            
          </div>
          


        <div id="Tokyo" class="tabcontent">
          <div class="button1-container">
            <button class="button-with-image blueBorder ms-auto" id="formButton3" data-toggle="modal"
              data-target="#myModal3"><span><img src="{% static 'add.png' %}" class="me-1"></span>Add New</button>
              <button class="button-with-image1"><span><img src="{% static 'Download.png' %}" class="me-1"><a href="/download/Microsegment_Default_Tasks">Download</a></button>
            <button class="button-with-image2" onclick="uploadToS3('Microsegment_Default_Tasks')"><span><img src="{% static 'Upload.png' %}" class="me-1">Upload</button>
          </div>
          <div class="table-container">
            <table class="custom-table">
              <thead>
                <tr>
                  <!-- {% for header in microsegment_default_tasks_data_headers %}
                  <th>{{ header }}</th>
                  {% endfor %} -->

                  <th>ID</th>
                  <th>Channel</th>
                  <th>Subchannel</th>
                  <th>Demo Segment</th>
                  <th>Value Segment</th>
                  <th>Segment ID</th>
                  <th>Default Tasks</th>

                  <th>Actions</th>
                </tr>
            </thead>
            <tbody>
              {% for row in microsegment_default_tasks_data_data %}
                   <tr>
                    {% for value in row %}
                    <td>
                      {{value}}
                    </td>

                    {% endfor %}
                    <td>
                      <i class="fas fa-edit" id="editButton3" data-toggle="modal" onclick="getSourceData_mdt({{ row.0 }})" data-target="#Microsegment_Default_Tasks_edit_popup"
                        style="color: black;"></i>
                        <i class="fas fa-trash-alt" id="deleteButton5" onclick="deleteConfirmation3()"
                        data-toggle="modal" style="color: black;"></i>

                        <div class="popup" id="deletePopup3">
                          <p>Do you want to delete?</p>
                          <button class="btn btn-outline-danger cancel me-4" onclick="closePopup3()">Cancel</button>
                          <button class="btn btn-primary update" onclick="DeleteSourceData_mdt({{ row.0 }})">Yes, Delete</button>
                        </div>

                    </td>
                   </tr>
              {% endfor %}
            </tbody>
            </table>
          </div>
          <div class="button2-container"><button class="button-image ms-auto">Validate</button></div>
          

          
          <div id="myModal3" class="modal fade" role="dialog">
            <div class="modal-dialog modal-lg">
              <!-- Modal content-->
              <div class="modal-content">
                <div class="modal-header">
                  <h1 class="modal-title">Add New</h1>
                  <button type="button" class="close" data-dismiss="modal">&times;</button>
                </div>
                <div class="modal-body">
                <form id="microsegment_default_tasks_Form"  data-form-id="microsegment_default_tasks_Form" method="post" enctype="multipart/form-data">
                    {% csrf_token %}
                    <input type="hidden" id="microsegment_default_tasks_Form" name="form_identifier" value="microsegment_default_tasks_Form" />


                      <div class="form-row">
                        <div class="form-group_clo">
                          <label for="channel" class="label1">Channel </label>
                          <input class="first" name="channel" id="channel" type="text" placeholder="channel" />
                        </div>
                      </div>

                      <div class="form-row">
                        <div class="form-group_clo">
                          <label for="subchannel" class="label">Subchannel</label>
                          <input class="first" name="subchannel" id="subchannel" type="text" placeholder="Subchannel" />
                        </div>
                        <div class="form-group_clo">
                          <label for="demoseg" class="label">DemoSeg</label>
                          <input class="last" name="demoseg" id="demoseg" type="text" placeholder="DemoSeg" />
                        </div>
                      </div>

                      <div class="form-row">
                        <div class="form-group_clo">
                          <label for="valueseg" class="label">ValueSeg</label>
                          <input class="first" name="valueseg" id="valueseg" type="text" placeholder="ValueSeg" />
                        </div>
                        <div class="form-group_clo">
                          <label for="segment_id" class="label">Segment_id</label>
                          <input class="last" name="segment_id" id="segment_id" type="text" placeholder="Segment_id" />
                        </div>
                      </div>

                      <div class="form-row">
                        <div class="form-group_clo">
                          <label for="default_tasks" class="label">Default_Tasks</label>
                          <input class="first" name="default_tasks" id="default_tasks" type="text" placeholder="Default_Tasks" />
                        </div>

                      </div>

                    <button type="button" id="validateButton_microsegment_default_task" class="btn btn-info btn-lg submit_validate" data-toggle="modal"
                      {% comment %} data-target="#myModal7" {% endcomment %}
                      >Validate</button>
                  </form>
                </div>
              </div>
            </div>
          </div>
        </div>



        <div id="Microsegment_Default_Tasks_edit_popup" class="modal fade" role="dialog">
            <div class="modal-dialog modal-lg">
              <!-- Modal content-->
              <div class="modal-content">
                <div class="modal-header">
                  <h1 class="modal-title">Add New</h1>
                  <button type="button" class="close" data-dismiss="modal">&times;</button>
                </div>
                <div class="modal-body">
                <form id="microsegment_default_tasks_Form_edit"  data-form-id="microsegment_default_tasks_Form_edit" method="post" enctype="multipart/form-data">
                    {% csrf_token %}
                    <input type="hidden" id="microsegment_default_tasks_Form_edit" name="form_identifier" value="microsegment_default_tasks_Form_edit" />

                     <input class="first1" id="mdt_pk_id"
                        name="mdt_pk_id" placeholder="mdt_pk_id" type="hidden" />

                      <div class="form-row">
                        <div class="form-group_clo">
                          <label for="channel_mdt" class="label1">Channel </label>
                          <input class="first" name="channel_mdt" id="channel_mdt" type="text" placeholder="channel" />
                        </div>
                      </div>

                      <div class="form-row">
                        <div class="form-group_clo">
                          <label for="subchannel_mdt" class="label">Subchannel</label>
                          <input class="first" name="subchannel_mdt" id="subchannel_mdt" type="text" placeholder="Subchannel" />
                        </div>
                        <div class="form-group_clo">
                          <label for="demoseg_mdt" class="label">DemoSeg</label>
                          <input class="last" name="demoseg_mdt" id="demoseg_mdt" type="text" placeholder="DemoSeg" />
                        </div>
                      </div>

                      <div class="form-row">
                        <div class="form-group_clo">
                          <label for="valueseg_mdt" class="label">ValueSeg</label>
                          <input class="first" name="valueseg_mdt" id="valueseg_mdt" type="text" placeholder="ValueSeg" />
                        </div>
                        <div class="form-group_clo">
                          <label for="segment_id_mdt" class="label">Segment_id</label>
                          <input class="last" name="segment_id_mdt" id="segment_id_mdt" type="text" placeholder="Segment_id" />
                        </div>
                      </div>

                      <div class="form-row">
                        <div class="form-group_clo">
                          <label for="default_tasks_mdt" class="label">Default_Tasks</label>
                          <input class="first" name="default_tasks_mdt" id="default_tasks_mdt" type="text" placeholder="Default_Tasks" />
                        </div>
                      </div>

                    <button type="submit" id="validateButton_microsegment_default_task" class="btn btn-info btn-lg submit_validate" data-toggle="modal"
                      {% comment %} data-target="#myModal7" {% endcomment %}
                      >Submit</button>
                  </form>
                </div>
              </div>
            </div>
            <div id="myModal3_delete" class="modal fade" role="dialog">
              <div class="modal-dialog modal-md">

                <!-- Modal content-->
                <div class="modal-content">
                  <div class="modal-header">
                    <h1 class="modal-title" style="font-size: 15px; color: black;">Delete</h1>
                    <button type="button" class="close" data-dismiss="modal"
                      style="border: 1px; height: 5px;">&times;</button>

                  </div>
                  <div class="modal-body">
                    <p style="color: black;">Are you sure want to delete trigger Id "1"?</p>
                    <button type="button" id="submit" style="background-color:#736CEB; color: white;">Delete</button>
                  </div>

                </div>
              </div>
            </div>

          </div>
        </div>


        <div id="submit_microsegment_default_task" class="modal fade" role="dialog">
          <div class="modal-dialog modal-md">
            <!-- Modal content-->
            <div class="modal-content">
              <div class="modal-header">
                <h1 class="modal-title" style="font-size: 15px; color: black;">Validate</h1>
                <button type="button" class="close" data-dismiss="modal"
                  style="border: 1px; height: 5px;">&times;</button>

              </div>
              <div class="modal-body">
                <p style="color: black;">Do you want to add new channel?</p>
                <button type="button" id="submit_button_microsegment_default_tasks" style="background-color:#736CEB; color: white;">Submit3</button>
              </div>

            </div>

          </div>
        </div>






          <div id="india" class="tabcontent">
            <div class="button1-container">
              <button class="button-with-image blueBorder ms-auto" id="formButton4" data-toggle="modal"
                data-target="#myModal4"><span><img src="{% static 'add.png' %}" class="me-1"></span>Add New</button>
              <button class="button-with-image1"><span><img src="{% static 'Download.png' %}"
                    class="me-1">Download</button>
              <button class="button-with-image2"><span><img src="{% static 'Upload.png' %}" class="me-1">Update</button>
            </div>
            <div class="table-container">
              <table class="custom-table">
                <thead>
                  <tr>
                    <th>Company</th>
                    <th>Contact</th>
                    <th>Country</th>
                    <th>Actions</th>
                  </tr>
                </thead>
                <tbody>
                  <tr>
                    <td>Alfreds Futterkiste</td>
                    <td>Maria Anders</td>
                    <td>Germany</td>
                    <td>
                      <i class="fas fa-edit" id="editButton1" data-toggle="modal" data-target="#myModal4_edit"
                        style="color: black;"></i>
                      <i class="fas fa-trash-alt" id="deleteButton5" data-toggle="modal" data-target="#myModal4_delete"
                        style="color: black;"></i>
                    </td>
                  </tr>
                  <tr>
                    <td>Centro comercial Moctezuma</td>
                    <td>Francisco Chang</td>
                    <td>Mexico</td>
                    <td>
                      <i class="fas fa-edit" id="editButton2" data-toggle="modal" data-target="#myModal4_edit"
                        style="color: black;"></i>
                      <i class="fas fa-trash-alt" id="deleteButton5" data-toggle="modal" data-target="#myModal4_delete"
                        style="color: black;"></i>
                    </td>
                  </tr>
                  <tr>
                    <td>Alfreds Futterkiste</td>
                    <td>Maria Anders</td>
                    <td>Germany</td>
                    <td>
                      <i class="fas fa-edit" id="editButton3" data-toggle="modal" data-target="#myModal4_edit"
                        style="color: black;"></i>
                      <i class="fas fa-trash-alt" id="deleteButton5" data-toggle="modal" data-target="#myModal4_delete"
                        style="color: black;"></i>
                    </td>
                  </tr>
                  <tr>
                    <td>Alfreds Futterkiste</td>
                    <td>Maria Anders</td>
                    <td>Germany</td>
                    <td>
                      <i class="fas fa-edit" id="editButton4" data-toggle="modal" data-target="#myModal4_edit"
                        style="color: black;"></i>
                      <i class="fas fa-trash-alt" id="deleteButton5" data-toggle="modal" data-target="#myModal4_delete"
                        style="color: black;"></i>
                    </td>
                  </tr>
                  <tr>
                    <td>Alfreds Futterkiste</td>
                    <td>Maria Anders</td>
                    <td>Germany</td>
                    <td>
                      <i class="fas fa-edit" id="editButton5" data-toggle="modal" data-target="#myModal4_edit"
                        style="color: black;"></i> <!-- Edit icon -->
                      <i class="fas fa-trash-alt" id="deleteButton5" data-toggle="modal" data-target="#myModal4_delete"
                        style="color: black;"></i> <!-- Delete icon -->
                    </td>
                  </tr>
                </tbody>
              </table>
            </div>
              <div id="myModal4" class="modal fade" role="dialog">
              <div class="modal-dialog modal-lg">
                <!-- Modal content-->
                <div class="modal-content">
                  <div class="modal-header">
                    <h1 class="modal-title">Modal Header</h1>
                    <button type="button" class="close" data-dismiss="modal">&times;</button>

                  </div>
                  <div class="modal-body">
                    <form id="default_task_inactive_fls_Form" data-form-id="default_task_inactive_fls_Form"
                      method="post" enctype="multipart/form-data">
                      {% csrf_token %}
                      <input type="hidden" id="default_task_inactive_fls_Form" name="form_identifier"
                        value="default_task_inactive_fls_Form" />
                      <div class="form-row">
                        <div class="form-group_fls">
                          <label for="first" class="label1">FLS_id</label>
                          <input class="first" name="first" type="text" placeholder="FLS_id" />
                        </div>
                        <div class="form-group_fls">
                          <label for="last" class="label">Channel</label>
                          <input class="last" name="last" type="text" placeholder="Channel" />
                        </div>
                      </div>
                      <div class="form-row">
                        <div class="form-group_fls">
                          <label for="first1" class="label1_">Subchannel</label>
                          <input class="first1" name="street" type="text" placeholder="Subchannel" />
                        </div>
                        <div class="form-group_fls">
                          <label for="last1" class="label_">Channel_Subchannel_ID</label>
                          <input class="last1" name="apt" type="text" placeholder="Channel_Subchannel_ID" />
                        </div>
                      </div>
                      <div class="form-row">
                        <div class="form-group_fls">
                          <label for="first2" class="label2_">DemoSeg</label>
                          <input class="first2" name="" type="text" placeholder="DemoSeg" />
                        </div>
                        <div class="form-group_fls">
                          <label for="last2" class="label_last">ValueSeg</label>
                          <input class="last2" name="province" type="text" placeholder="ValueSeg" />
                        </div>
                      </div>
                      <div class="form-row">
                        <div class="form-group_fls">
                          <label for="first3" class="label3_">DemoSeg_ValueSeg_ID</label>
                          <input class="first3" name="" type="text" placeholder="DemoSeg_ValueSeg_ID" />
                        </div>
                        <div class="form-group_fls">
                          <label for="last3" class="label3_last">Trigger_id</label>
                          <input class="last3" name="province" type="text" placeholder="Trigger_id" />
                        </div>
                      </div>

                      <div class="form-row">
                        <div class="form-group_fls">
                          <label for="first" class="label1">FLSAvg_Threshold_2</label>
                          <input class="first" name="first" type="text" placeholder="FLSAvg_Threshold_2" />
                        </div>
                      </div>

                      <button type="button" id="submit4" class="btn btn-info btn-lg submit_validate" data-toggle="modal"
                        data-target="#myModal8">Validate</button>

                    </form>

                  </div>

                </div>
              </div>
              <div class="modal-body">
                <p style="color: black;">Do you want to add new channel?</p>
                <button type="button" id="submit_button_microsegment_default_tasks" style="background-color:#736CEB; color: white;">Submit3</button>
              </div>

            </div>

            <div id="myModal4_edit" class="modal fade" role="dialog">
              <div class="modal-dialog modal-lg">
                <!-- Modal content-->
                <div class="modal-content">
                  <div class="modal-header">
                    <h1 class="modal-title">Modal Header</h1>
                    <button type="button" class="close" data-dismiss="modal">&times;</button>

                  </div>
                  <div class="modal-body">
                    {% comment %} for edit {% endcomment %}
                    <form id="form4">
                      {% csrf_token %}
                      <div class="form-row">
                        <div class="form-group_fls">
                          <label for="first" class="label1">FLS_id</label>
                          <input class="first" name="first" type="text" placeholder="FLS_id" />
                        </div>
                        <div class="form-group_fls">
                          <label for="last" class="label">Channel</label>
                          <input class="last" name="last" type="text" placeholder="Channel" />
                        </div>
                      </div>
                      <div class="form-row">
                        <div class="form-group_fls">
                          <label for="first1" class="label1_">Subchannel</label>
                          <input class="first1" name="street" type="text" placeholder="Subchannel" />
                        </div>
                        <div class="form-group_fls">
                          <label for="last1" class="label_">Channel_Subchannel_ID</label>
                          <input class="last1" name="apt" type="text" placeholder="Channel_Subchannel_ID" />
                        </div>
                      </div>
                      <div class="form-row">
                        <div class="form-group_fls">
                          <label for="first2" class="label2_">DemoSeg</label>
                          <input class="first2" name="" type="text" placeholder="DemoSeg" />
                        </div>
                        <div class="form-group_fls">
                          <label for="last2" class="label_last">ValueSeg</label>
                          <input class="last2" name="province" type="text" placeholder="ValueSeg" />
                        </div>
                      </div>
                      <div class="form-row">
                        <div class="form-group_fls">
                          <label for="first3" class="label3_">DemoSeg_ValueSeg_ID</label>
                          <input class="first3" name="" type="text" placeholder="DemoSeg_ValueSeg_ID" />
                        </div>
                        <div class="form-group_fls">
                          <label for="last3" class="label3_last">Trigger_id</label>
                          <input class="last3" name="province" type="text" placeholder="Trigger_id" />
                        </div>
                      </div>

                      <div class="form-row">
                        <div class="form-group_fls">
                          <label for="first" class="label1">FLSAvg_Threshold_2</label>
                          <input class="first" name="first" type="text" placeholder="FLSAvg_Threshold_2" />
                        </div>
                      </div>

                      <button type="button" id="submit4" class="btn btn-info btn-lg submit_validate" data-toggle="modal"
                        data-target="#myModal8">Validate</button>

                    </form>

                  </div>

                </div>
              </div>
            </div>
            <div id="myModal4_delete" class="modal fade" role="dialog">
              <div class="modal-dialog modal-md">

                <!-- Modal content-->
                <div class="modal-content">
                  <div class="modal-header">
                    <h1 class="modal-title" style="font-size: 15px; color: black;">Delete</h1>
                    <button type="button" class="close" data-dismiss="modal"
                      style="border: 1px; height: 5px;">&times;</button>

                  </div>
                  <div class="modal-body">
                    <p style="color: black;">Are you sure want to delete trigger Id "1"?</p>
                    <button type="button" id="submit" style="background-color:#736CEB; color: white;">Delete</button>
                  </div>

                </div>
              </div>
            </div>
          </div>
          <div id="myModal8" class="modal fade" role="dialog">
            <div class="modal-dialog modal-md">

              <!-- Modal content-->
              <div class="modal-content">
                <div class="modal-header">
                  <h1 class="modal-title" style="font-size: 15px; color: black;">Validate</h1>
                  <button type="button" class="close" data-dismiss="modal"
                    style="border: 1px; height: 5px;">&times;</button>

                </div>
                <div class="modal-body">
                  <p style="color: black;">Do you want to add new channel?</p>
                  <button type="button" id="submit" style="background-color:#736CEB; color: white;">Submit</button>
                </div>

              </div>
            </div>
          </div>
        </div>
      </div>
    </div>

    <div id="error_threshold_logic_config" class="modal fade" role="dialog">
      <div class="modal-dialog modal-md">
        <div class="modal-content">
          <div class="modal-header">
            <h1 class="modal-title" style="font-size: 15px; color: black;">Validate</h1>
            <button type="button" class="close" data-dismiss="modal">&times;</button>
          </div>
          <div class="modal-body">
            <p style="color: black;">Error in validation, please check input values</p>
            <button type="button" id="error_button__threshold_logic_config"
              style="background-color: red; color: white;">OK</button>
          </div>
        </div>
      </div>
    </div>

    <script>
      function openCity(evt, cityName) {

        var i, tabcontent, tablinks;


        tabcontent = document.getElementsByClassName("tabcontent");
        for (i = 0; i < tabcontent.length; i++) {
          tabcontent[i].style.display = "none";
        }


        tablinks = document.getElementsByClassName("tablinks");
        for (i = 0; i < tablinks.length; i++) {
          tablinks[i].className = tablinks[i].className.replace(" active", "");
        }


        document.getElementById(cityName).style.display = "block";
        evt.currentTarget.className += " active";
      }

    let deletePopup = document.getElementById("deletePopup");
    let deletePopup2 = document.getElementById("deletePopup2");
    let deletePopup3 = document.getElementById("deletePopup3");


    function deleteConfirmation(){
      deletePopup.classList.add("showPopup")
    }

    function deleteConfirmation2(){
      deletePopup2.classList.add("showPopup")
    }

    function deleteConfirmation3(){
      deletePopup3.classList.add("showPopup")
    }

    function closePopup(){
      deletePopup.classList.remove("showPopup")
    }
    function closePopup2(){
      deletePopup2.classList.remove("showPopup")
    }
    function closePopup3(){
      deletePopup3.classList.remove("showPopup")
    }


      document.addEventListener("DOMContentLoaded", function () {
        var formButton = document.getElementById("formButton1");
        var form1 = document.getElementById("form1");

        formButton.addEventListener("click", function () {
          form1.style.display = (form1.style.display === "none" || form1.style.display === "") ? "block" : "none";
        });
      });

      document.addEventListener("DOMContentLoaded", function () {
        var formButton = document.getElementById("formButton2");
        var form2 = document.getElementById("form2");

        formButton.addEventListener("click", function () {
          form2.style.display = (form2.style.display === "none" || form2.style.display === "") ? "block" : "none";
        });
      });
      document.addEventListener("DOMContentLoaded", function () {
        var formButton = document.getElementById("formButton3");
        var form3 = document.getElementById("form3");

        formButton.addEventListener("click", function () {
          form3.style.display = (form3.style.display === "none" || form3.style.display === "") ? "block" : "none";
        });
      });
      document.addEventListener("DOMContentLoaded", function () {
        var formButton = document.getElementById("formButton4");
        var form4 = document.getElementById("form4");

        formButton.addEventListener("click", function () {
          form4.style.display = (form4.style.display === "none" || form4.style.display === "") ? "block" : "none";
        });
      });


      document.addEventListener("DOMContentLoaded", function () {
        setupModalHandling("submit1", "myModal1", "myModal5");
      });

      document.addEventListener("DOMContentLoaded", function () {
        setupModalHandling("submit2", "myModal2", "myModal6");
      });

      document.addEventListener("DOMContentLoaded", function () {
        setupModalHandling("submit3", "myModal3", "myModal7");
      });

      document.addEventListener("DOMContentLoaded", function () {
        setupModalHandling("submit4", "myModal4", "myModal8");
      });

      function setupModalHandling(validateButtonId, modalTriggerId, modalId) {
        var validateButton = document.getElementById(validateButtonId);
        var modalTrigger = document.getElementById(modalTriggerId);
        var modal = document.getElementById(modalId);
        var closeModalButton = modal.querySelector(".close");

        validateButton.addEventListener("click", function () {
          modalTrigger.setAttribute("hidden", true);
          modal.removeAttribute("hidden");
        });

        closeModalButton.addEventListener("click", function () {
          modal.setAttribute("hidden", true);
          modalTrigger.removeAttribute("hidden");
        });
      }





      $(document).ready(function () {
        $('#validateButton_optimization_rule').on('click', function (event) {
          event.preventDefault(); // Prevent the default form submission
          var formData = $('#optimization_rules_Form').serialize();
          formData += '&csrfmiddlewaretoken=' + $('input[name=csrfmiddlewaretoken]').val();
          $.ajax({
            type: 'GET',
            url: '/api/validate_thresold_config_df/',
            data: formData,
            dataType: 'json',
            success: function (response) {
              if (response.is_valid) {
                // Handle success (e.g., update UI, show a message)
                $('#submit_optimization_rules').modal('show');
              } else {
                // Handle validation errors (e.g., display error messages)
                $('#error_threshold_logic_config .modal-body p').html(response.errors.join('<br>'));
                $('#error_threshold_logic_config').modal('show');
              }
            },
            error: function (xhr, status, error) {
              console.error('AJAX request failed with error:', error);
              alert('Internal Server Error. Please check the server logs for details.');
            }
          });
        });
      });

      $(document).ready(function () {
        $('#submit_button_optimization_rules').on('click', function () {
          $('#optimization_rules_Form').submit();
        });
      });

      $(document).ready(function () {
        $('#error_button__threshold_logic_config').on('click', function () {
          $('#error_threshold_logic_config').modal('hide');
        });
      });






      // $(document).ready(function () {
      //   $('#validateButton_optimization_rule').on('click', function (event) {
      //     event.preventDefault(); // Prevent the default form submission
      //     var formData = $('#optimization_rules_Form').serialize();
      //     formData += '&csrfmiddlewaretoken=' + $('input[name=csrfmiddlewaretoken]').val();
      //     $.ajax({
      //       type: 'GET',
      //       url: '/api/validate_thresold_config_df/',
      //       data: formData,
      //       dataType: 'json',
      //       success: function (response) {
      //         if (response.is_valid) {
      //           // Handle success (e.g., update UI, show a message)
      //           $('#submit_optimization_rules').modal('show');
      //         } else {
      //           // Handle validation errors (e.g., display error messages)
      //           $('#error_threshold_logic_config').modal('show');
      //         }
      //       },
      //       error: function (xhr, status, error) {
      //         console.error('AJAX request failed with error:', error);
      //         alert('Internal Server Error. Please check the server logs for details.');
      //       }
      //     });
      //   });
      // });

      // $(document).ready(function () {
      //   $('#submit_button_optimization_rules').on('click', function () {
      //     $('#optimization_rules_Form').submit();
      //   });
      // });




      {% comment %} 2 {% endcomment %}
      $(document).ready(function () {
        $('#validateButton_allocation_parameters').on('click', function (event) {
          event.preventDefault(); // Prevent the default form submission
          var formData = $('#allocation_parameters_Form').serialize();
          formData += '&csrfmiddlewaretoken=' + $('input[name=csrfmiddlewaretoken]').val();
          $.ajax({
            type: 'GET',
            url: '/api/validate_thresold_config_df/',
            data: formData,
            dataType: 'json',
            success: function (response) {
              if (response.is_valid) {
                // Handle success (e.g., update UI, show a message)
                
                $('#submit_allocation_parameters').modal('show');
              } else {
                // Handle validation errors (e.g., display error messages)
                $('#error_threshold_logic_config .modal-body p').html(response.errors.join('<br>'));
                $('#error_threshold_logic_config').modal('show');
              }
            },
            error: function (xhr, status, error) {
              console.error('AJAX request failed with error:', error);
              alert('Internal Server Error. Please check the server logs for details.');
            }
          });
        });
      });
      $(document).ready(function () {
        $('#submit_button_allocation_parameters').on('click', function () {
          $('#allocation_parameters_Form').submit();
        });
      });




     $(document).ready(function () {
    $('#validateButton_microsegment_default_task').on('click', function (event) {
        event.preventDefault(); // Prevent the default form submission
        var formData = $('#microsegment_default_tasks_Form').serialize();
        formData += '&csrfmiddlewaretoken=' + $('input[name=csrfmiddlewaretoken]').val();
        $.ajax({
            type: 'GET',
            url: '/api/validate_thresold_config_df/',
            data: formData,
            dataType: 'json',
            success: function (response) {
                if (response.is_valid) {
                    // Handle success (e.g., update UI, show a message)
                    $('#submit_microsegment_default_task').modal('show');
                } else {
                    // Handle validation errors (e.g., display error messages)
                    $('#error_threshold_logic_config .modal-body p').html(response.errors.join('<br>'));
                    $('#error_threshold_logic_config').modal('show');
                }
            },
            error: function (xhr, status, error) {
                console.error('AJAX request failed with error:', error);
                alert('Internal Server Error. Please check the server logs for details.');
            }
        });
    });
});


  $(document).ready(function () {
    $('#submit_button_microsegment_default_tasks').on('click', function () {
        $('#microsegment_default_tasks_Form').submit();
    });
  });



      function getSourceData_ORD(rowId) {

        $(document).ready(function () {
          var apiUrl = `api/task_constraint_rules_get_data/${rowId}`;
          $.ajax({
            url: apiUrl,
            type: 'GET',
            dataType: 'json',
            success: function (data) {
              console.log(data);

              document.getElementById("ord_task_no").value = rowId
              document.getElementById("ord_constraint").value = data.Constraint_Description
              document.getElementById("ord_category_task_allocated_with").value = data.Category_Task_Associated_with
              document.getElementById("ord_min_task_count_fls").value = data.Min_Task_Count_FLS
              document.getElementById("ord_max_task_count_fls").value = data.Max_Task_Count_FLS
              document.getElementById("ord_mutual_exclusion_criteria").value = data.Mutual_Exclusion_Criteria
              document.getElementById("ord_task_priority").value = data.Task_Priority
            }
          });
        });

      }

      function DeleteSourceData_ORD(row_id) {
      document.getElementById("deletePopup").style.display="none";

        fetch(`api/task_constraint_rules_delete/${row_id}/`, {
          method: 'POST',
          headers: {
            'Content-Type': 'application/json',
          },
        })
          .then(response => {
            if (!response.ok) {
              if (response.status === 404) {
                // Show errorDiv if object not found
                document.getElementById('errorDiv').style.display = 'block';
              } else {
                throw new Error(`HTTP error! Status: ${response.status}`);
              }
            } else {
              // Show successDiv on successful deletion
              alert(`Row ${row_id} deleted successfully`);
              $('#myModal_delete_ORD').modal('show');
              return response.json();
            }
          })
          .catch(error => {
            // Handle other errors
            console.error('Error deleting data:', error);
            // Show errorDiv on other errors
            document.getElementById('errorDiv').style.display = 'block';
          });
      }




  function getSourceData_mdt(rowId) {
  $(document).ready(function () {
    var apiUrl = `api/microsegment_default_tasks_get_data/${rowId}`;
    $.ajax({
      url: apiUrl,
      type: 'GET',
      dataType: 'json',
      success: function (data) {
        console.log(data);
        // Display success message on the webpage
        $('#successMessage').text('Data loaded successfully!');

        // Update form fields with retrieved data
        document.getElementById("mdt_pk_id").value = data.id;
        document.getElementById("channel_mdt").value = data.Channel;
        document.getElementById("subchannel_mdt").value = data.Subchannel;
        document.getElementById("demoseg_mdt").value = data.DemoSeg;
        document.getElementById("valueseg_mdt").value = data.ValueSeg; // Assuming Trigger is a simple
        document.getElementById("segment_id_mdt").value = data.Segment_id; // Assuming Trigger is a 
        document.getElementById("default_tasks_mdt").value = data.Default_Tasks; // Assuming Trigger is a simple string field
      },
      error: function () {
        // Handle error case, display an error message or take appropriate action
        $('#errorMessage').text('Error loading data. Please try again.');
      }
    });
  });
}




function DeleteSourceData_mdt(rowId) {
  document.getElementById("deletePopup3").style.display="none";

  fetch(`api/microsegment_default_tasks_delete/${rowId}/`, {
    method: 'POST',
    headers: {
      'Content-Type': 'application/json',
    },
  })
    .then(response => {
      if (!response.ok) {
        if (response.status === 404) {
          // Show errorDiv if object not found
          document.getElementById('errorDiv').style.display = 'block';
        } else {
          throw new Error(`HTTP error! Status: ${response.status}`);
        }
      } else {
        // Show successDiv on successful deletion
        alert(`Row ${rowId} deleted successfully`);
        $('#myModal_delete_TLC').modal('show');
        return response.json();
      }
    })
    .catch(error => {
      // Handle other errors
      console.error('Error deleting data:', error);
      // Show errorDiv on other errors
      document.getElementById('errorDiv').style.display = 'block';
    });
}









  function getSourceData_AP(rowId) {
  $(document).ready(function () {
    var apiUrl = `api/allocation_parameters_get_data/${rowId}`;
    $.ajax({
      url: apiUrl,
      type: 'GET',
      dataType: 'json',
      success: function (data) {
        console.log(data);
        // Display success message on the webpage
        $('#successMessage').text('Data loaded successfully!');

        // Update form fields with retrieved data
        document.getElementById("AP_Task_id").value = rowId;
        document.getElementById("AP_Channel").value = data.Channel;
        document.getElementById("AP_Subchannel").value = data.Subchannel;
        document.getElementById("AP_DemoSeg").value = data.DemoSeg;
        document.getElementById("AP_ValueSeg").value = data.ValueSeg;
        document.getElementById("AP_Segment_id").value = data.Segment_id;
        document.getElementById("AP_Due_Days").value = data.Due_Days; 
        document.getElementById("AP_Buffer_Days").value = data.Buffer_Days; 
        document.getElementById("AP_XX_Value").value = data.XX_Value; 
        document.getElementById("AP_XX_Type").value = data.XX_Type; 
        document.getElementById("AP_PricePoint_Reward").value = data.PricePoint_Reward;         
      },
      error: function () {
        // Handle error case, display an error message or take appropriate action
        $('#errorMessage').text('Error loading data. Please try again.');
      }
    });
  });
}

function DeleteSourceData_AP(row_id) {
  document.getElementById("deletePopup2").style.display="none";

fetch(`api/allocation_parameters_delete/${row_id}/`, {
  method: 'POST',
  headers: {
    'Content-Type': 'application/json',
  },
})
  .then(response => {
    if (!response.ok) {
      if (response.status === 404) {
        // Show errorDiv if object not found
        document.getElementById('errorDiv').style.display = 'block';
      } else {
        throw new Error(`HTTP error! Status: ${response.status}`);
      }
    } else {
      // Show successDiv on successful deletion
      alert(`Row ${row_id} deleted successfully`);
      $('#myModal_delete_AP').modal('show');
      return response.json();
    }
  })
  .catch(error => {
    // Handle other errors
    console.error('Error deleting data:', error);
    // Show errorDiv on other errors
    document.getElementById('errorDiv').style.display = 'block';
  });
}

function uploadToS3(sheetName) {
    // Make a GET request to the server endpoint with the sheet name
    fetch(`/upload/${sheetName}/`, {
        method: 'GET',
        headers: {
            // No need for 'Content-Type' header in GET requests
            // 'Content-Type': 'application/json',
            // Add any other headers if needed
        },
    })
    .then(response => response.json())
    .then(data => {
        // Handle the response from the server
        if (data.is_valid) {
            // Show success alert
            alert('Uploaded successfully');
        } else {
            // Show failure alert
            alert('Upload failed');
        }
        // Add any additional logic or UI updates based on the response
    })
    .catch(error => {
        // Handle errors
        console.error('Error:', error);
        // Show an error alert or handle the error in another way
        alert('Error uploading data. Please try again.');
    });
}

  </script>

</body>

</html>